# 프로세서와 CPU

> Processor & CPU(Central Processing Uinit, 중앙처리장치)

<br>

## CPU

컴퓨터를 뇌에 비유하자면 단기기억 담당은 RAM, 장기기억은 하드디스크, CPU는 사고를 담당하는 대뇌피질 정도로 볼 수 있다. (즉, 컴퓨터의 뇌와 같다.)

컴퓨터의 구성 단위 중 **기억, 연산, 제어**의 3대 기능을 종합하는 장치이고 컴퓨터의 가장 중요한 부분이다. 프로그램의 명령어를 해석하여 데이터를 연산/처리 하는 부분, 혹은 그 기능을 내장한 칩을 말한다. 컴퓨터가 동작하는데 필요한 모든 계산을 처리한다.

CPU 중에서도 각종 전자부품과 반도체 칩을 하나의 작은 칩에 내장한 형태를 마이크로프로세서라고 한다. 마이크로프로세서들 가운데 가장 복잡하고 성능이 높은 제품을 컴퓨터의 연산장치로 쓰인다.

<br>

**CPU의 용도에 따른 분류**

* MPU (Micro Processor Unit)
  1. CPU 중에서도 각종 전자부품과 반도체치을 하나의 작은 칩에 내장한 형태를 마이크로프로세서라고 하는데, 이 마이크로프로세서가 바로 MPU이다.
  2. 일반적인 PC/워크스테이션에서 사용되는 CPU의 한 종류.
* MCU (Micro Controller Unit)
  1. 마이크로컨트롤러로도 불리우며 오늘날 지구상에 존재하는 CPU 숫자의 대다수를 차지한다. 
  2. CPU(또는 MPU)를 포함하며, 일정한 용량의 기억장치(램,롬), 입출력제어회로 등을 단일 칩에 모두 내장한 것을 의미한다.
  3. 1개의 소자로 완전한 1개의 컴퓨터로서의 기능을 갖추고 있어 단일칩 마이크로컴퓨터(Singlechip Micro Computer or Onechip Micro Computer)라고도 불린다.

**정리**

CPU는 컴퓨터에 '뇌'에 해당하는 장치로 컴퓨터가 동작하는데 필요한 모든 계산을 처리하고 CPU, MPU, 카이크로프로세서 모두 같은 의미라고 보아도 무방하며, MCU는 개념이 다르다.

<br>

## 프로세서

컴퓨터 운영을 위해 기본적인 명령어들을 처리하고 반응하기 위한 논리회로이다.

보통 소프트웨어의 지시를 읽고 하드웨어의 다른 부분으로 신호를 보내는 제어장치(Control Unit)와 덧셈, 뺄셈 등 사칙연산과 AND, OR와 같은 논리연산 등을 담당하는 연산장치(ALU, Arithmetic Logic Unit)로 구성된다. 

디바이스가 해야할 일을 총 지휘하는 프로세서를 CPU라고 하며, CPU의 기능을 보조하는 프로세서를 보조프로세서(Coprocessor)라고 한다. PC나 소형 디바이스에 장착된 프로세서를 흔히 마이크로프로세서라고 한다. 

그러나 프로세서라는 용어는 점차적으로 CPU라는 용어를 대체해왔다.

<br>

**정리**

일반적인 PC/워크스테이션 환경을 기준으로 프로세서, CPU, MPU 모두 같은 개념으로 보면 되어도 무방하며 마이크로프로세서는 프로세서의 한 종류로 구분지으면 될 것 같다.

<br>

**프로세서와 프로세스의 구별**

프로세서의 정의

```
Processor (프로세서)는 하드웨어적인 측면에서 "컴퓨터 내에서 프로그램을 수행하는 하드웨어 유닛"이다.  이는 중앙처리장치(Central Processing Unit)를 뜻하며 폰노이만 아키텍쳐에 의해 만들어졌다면 적어도 하나 이상의 ALU (Arithmetic Logic Unit)와 처리 레지스터(Register)를 내장하고 있어야 한다.
```

<br>

SW적으로도 의미를 가지는 프로세서 정의

> 프로세서는 하드웨어에만 사용되는 용어는 아니다. SW 적으로도 의미를 가지며 프로세서라고 불리는 프로그램들도 있다.

```
소프트웨어적으로 프로세서라 함은 데이터 포맷을 변환하는 역할을 수행하는 데이터 프로세싱 시스템(데이터 처리 시스템)을 의미하며 출력 가능한 인쇄물을 생성하는 워드프로세서도 프로세서라 부른다.
```

애매하지만 위의 범주에 포함되는 소프트웨어는 워드프로세서와 컴파일러, 어셈블러 등이 포함된다. 프로세서라는 용어의 정의가 명확하게 정의되기 훨씬 이전부터 관습적으로 프로세서라고 부르던 소프트웨어들을 넓은 의미의 프로세서에 포함시켜주는 분위기가 강하다.

결론적으로 프로세서는 CPU나 Microprocessor라는 하드웨어를 말하는 것으로 그 범위가 점점 축소되어 명확해져 가고 있다.

<br>

프로세스(process)

말 그대로 **절차(과정)**이다. 때문에 스스로 무언가를 처리하지 못한다. 

프로세스는 특정 목적을 수행하기 위해 나열된 작업의 목록이라고 생각하면 된다. 즉, 프로그램이다. 컴퓨터에서 프로그램은 프로그래밍 언어로 작성된 작업 수행 과정일 뿐이다. 프로그래머가 작성한 소스코드와 소스코드가 컴파일되어 기계어로 번역된 바이너리파일도 그저 작업 과정이 기록된 파일일 뿐이다. 

작업의 과정이 파일로 저장되어 있으면 그것을 **프로그램**이라고 부르고 메모리에 적재되어 실행 중 이거나 실행 대기 중일 땐 **프로세스**라고 구별하여 부를 뿐이다. 즉 프로세스는 "메모리에 적재되어 프로세서에 의해 실행중인 프로그램" 이라고 정의하는 것이 정확하다.

<br>

컴퓨터가 프로그램을 실행하는 과정

1. 사용자가 단축 아이콘 혹은 명령행에서 프로그램을 실행한다.

2. 파일로 저장되어 있던 프로그램은 메모리(램)에 로더(Loader)에 의해 적재(load)되고 처음으로 실행해야 할 기계어 코드가 저장된 메모리의 주소를 CPU의 명령주소(IP : Instruction Pointer) 레지스터에 저장한다.

3. 프로세서(CPU)는 IP 레지스터가 가리키는 메모리의 주소에서 (처음으로) 실행할 명령어를 인출(메모리에서 CPU로 가져오는)하여 명령 레지스터(IR : Instruction Register)에 저장한다.

4. IR에 저장된 명령을 실행하고 IP에 다음번에 실행할 명령어가 있는 주소를 저장한다.

5. 3~4를 프로그램의 끝까지 반복한다.



즉,  프로세스는 CPU입장에서 봤을 땐 파일로 저장된 프로그램이 디스크에서 메모리로 읽어들인, 즉 장소와 포멧만 바뀌었을 뿐 스스로 실행되는 것이라고 보기는 어렵다. 프로세스는 그저 CPU가 실행할 과정과 실행 시 참조할 데이터를 메모리(램)에 적재해 둔 것에 지나지 않는다는 것이다. 즉, 프로세스는 프로세서가 실행할 명령어와 데이터목록을 메모리에 읽어들인 것에 지나지 않는다.

<br>

## 코어 (Core)

코어란 각종 연산을 하는 CPU의 핵심요소이며, CPU 내부에는 코어 말고도 컨트롤러, 캐시메모리 등이 들어 있다.  즉, CPU 안에서 일하는 부품을 말한다.

1개면 싱글코어, 2개면 듀얼코어, 3개면 트리플코어라고 부르며, 많으면 많을수록 일반적으로 처리속도가 빨라진다. 싱글코어는 1개의 칩셋(프로세서)로 처리하는 것이라서 대부분 1Ghz를 넘지못한다. 듀얼코어는 2개의 프로세서로 일을 한다.

<br>

> cpu내 물리적 연산부가 코어고 코어의 효율을 향상시키기위해 각 코어당 분산처리할 수 있는 기술(=하이퍼스레딩)이 나왔습니다. 엄밀히 따지면 하나의 코어가 여러 작업을 분할하여 빠르게 처리하는것이고 이를 나누었을때 작업의 단위를 스레드라고 칭합니다. 예로 1111111 이란 작업과 000000 이란 작업이 있으면 1코어당 1스레드의 경우 1111111 000000 으로 처리하지만 1코어당 2스레드의 경우 101010101010 처럼 일을 처리하기때문에 마치 코어가 2개인것 처럼 보이는것이죠. 일종의 착시효과라고도 할 수 있겠지만 스레드 지연시간을 획기적으로 줄일 수 있기때문에 효율이나 사용자가 느끼는 체감은 크다고 볼 수 있습니다. 비유를 하자면 사람입은 하나인데 한손으로 밥먹는 속도와 두손을 다써서 밥먹는 속도의 차이정도... 입은 하나(=코어는 하나)지만 음식을 입에 가져오는 시간을 줄일 수 있기에(스레드 지연시간을 줄일 수 있기에) 두손을 써서 밥먹는게(스레드를 나눠서 쓰는게) 빠를 수 밖에 없죠~ 그리고 운영체제(OS)에서도 스레드라는 단어가 사용되는데 이때 스레드의 기준은 하나의 프로세스(=어떤 프로그램)을 나눠서 처리할때의 단위입니다. 프로세스도 cpu와 마찬가지로 프로세스 하나당 기본적으로 하나의 메인 스레드가 존재하며 다수의 스레드로 수행되는것을 멀티스레딩이라고 칭합니다. 요즘 흔히보이는 프로그램들은 거의다 멀티스레딩구조라고 봐도 무방합니다.



## 출처

[CPU & Processor] https://donghoson.tistory.com/14

[프로세서와 프로세스 차이] https://blogger.pe.kr/422

[코어와 스레드 개념] https://quasarzone.com/bbs/qf_cmr/views/12864 

